{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://signalcraft.dev/schemas/resume.schema.v1.json",
  "title": "SignalCraft Resume Structured Schema",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "resume_schema_version",
    "candidate_id",
    "source_format",
    "hash_version",
    "parser_version",
    "resume_hash",
    "skills",
    "role_signals",
    "experience_summary",
    "education_signals",
    "certification_signals"
  ],
  "properties": {
    "resume_schema_version": {
      "const": 1
    },
    "candidate_id": {
      "type": "string",
      "pattern": "^[a-z0-9_]{1,64}$"
    },
    "source_format": {
      "enum": [
        "pdf",
        "text"
      ]
    },
    "hash_version": {
      "const": "resume_hash.v1"
    },
    "parser_version": {
      "const": "resume_parser.v1"
    },
    "resume_hash": {
      "type": "string",
      "pattern": "^[a-f0-9]{64}$"
    },
    "skills": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "role_signals": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "experience_summary": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "years_experience_estimate",
        "seniority_signal"
      ],
      "properties": {
        "years_experience_estimate": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 0,
          "maximum": 80
        },
        "seniority_signal": {
          "type": [
            "string",
            "null"
          ]
        }
      }
    },
    "education_signals": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "certification_signals": {
      "type": "array",
      "items": {
        "type": "string"
      }
    }
  }
}
