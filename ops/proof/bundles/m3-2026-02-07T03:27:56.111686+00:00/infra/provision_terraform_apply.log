[0m[1maws_ec2_tag.subnet_cluster["subnet-1e470941"]: Refreshing state... [id=subnet-1e470941,kubernetes.io/cluster/jobintel-eks][0m
[0m[1mdata.aws_iam_policy_document.jobintel_s3: Reading...[0m[0m
[0m[1maws_ec2_tag.subnet_cluster["subnet-f23c7194"]: Refreshing state... [id=subnet-f23c7194,kubernetes.io/cluster/jobintel-eks][0m
[0m[1maws_ec2_tag.subnet_cluster["subnet-11001d5c"]: Refreshing state... [id=subnet-11001d5c,kubernetes.io/cluster/jobintel-eks][0m
[0m[1maws_ec2_tag.subnet_cluster["subnet-f97176f7"]: Refreshing state... [id=subnet-f97176f7,kubernetes.io/cluster/jobintel-eks][0m
[0m[1maws_ec2_tag.subnet_cluster["subnet-a4b7ff85"]: Refreshing state... [id=subnet-a4b7ff85,kubernetes.io/cluster/jobintel-eks][0m
[0m[1maws_iam_role.eks_cluster: Refreshing state... [id=jobintel-eks-cluster-role][0m
[0m[1maws_iam_role.node: Refreshing state... [id=jobintel-eks-node-role][0m
[0m[1mdata.aws_iam_policy_document.jobintel_s3: Read complete after 0s [id=2460803232][0m
[0m[1maws_iam_policy.jobintel_s3: Refreshing state... [id=arn:aws:iam::048622080012:policy/jobintel-eks-jobintel-s3][0m
[0m[1maws_iam_role_policy_attachment.node_worker: Refreshing state... [id=jobintel-eks-node-role-20260204133054153000000003][0m
[0m[1maws_iam_role_policy_attachment.node_ecr: Refreshing state... [id=jobintel-eks-node-role-20260204133054128300000001][0m
[0m[1maws_iam_role_policy_attachment.node_cni: Refreshing state... [id=jobintel-eks-node-role-20260204133054146800000002][0m
[0m[1maws_iam_role_policy_attachment.eks_cluster_policy: Refreshing state... [id=jobintel-eks-cluster-role-20260204133054254900000005][0m
[0m[1maws_iam_role_policy_attachment.eks_service_policy: Refreshing state... [id=jobintel-eks-cluster-role-20260204133054223600000004][0m
[0m[1maws_eks_cluster.this: Refreshing state... [id=jobintel-eks][0m
[0m[1maws_eks_node_group.default: Refreshing state... [id=jobintel-eks:jobintel-eks-default][0m
[0m[1maws_iam_openid_connect_provider.this: Refreshing state... [id=arn:aws:iam::048622080012:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC][0m
[0m[1maws_iam_role.jobintel_irsa: Refreshing state... [id=jobintel-eks-jobintel-irsa][0m
[0m[1maws_iam_role_policy_attachment.jobintel_s3: Refreshing state... [id=jobintel-eks-jobintel-irsa-20260204135044421700000002][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m
  [33m~[0m update in-place[0m
[31m-[0m/[32m+[0m destroy and then create replacement[0m
 [36m<=[0m read (data resources)[0m

Terraform will perform the following actions:

[1m  # data.aws_eks_cluster.this[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "aws_eks_cluster" "this" {
      [32m+[0m[0m access_config             = (known after apply)
      [32m+[0m[0m arn                       = (known after apply)
      [32m+[0m[0m certificate_authority     = (known after apply)
      [32m+[0m[0m cluster_id                = (known after apply)
      [32m+[0m[0m compute_config            = (known after apply)
      [32m+[0m[0m created_at                = (known after apply)
      [32m+[0m[0m enabled_cluster_log_types = (known after apply)
      [32m+[0m[0m endpoint                  = (known after apply)
      [32m+[0m[0m id                        = (known after apply)
      [32m+[0m[0m identity                  = (known after apply)
      [32m+[0m[0m kubernetes_network_config = (known after apply)
      [32m+[0m[0m name                      = "jobintel-eks"
      [32m+[0m[0m outpost_config            = (known after apply)
      [32m+[0m[0m platform_version          = (known after apply)
      [32m+[0m[0m remote_network_config     = (known after apply)
      [32m+[0m[0m role_arn                  = (known after apply)
      [32m+[0m[0m status                    = (known after apply)
      [32m+[0m[0m storage_config            = (known after apply)
      [32m+[0m[0m tags                      = (known after apply)
      [32m+[0m[0m upgrade_policy            = (known after apply)
      [32m+[0m[0m version                   = (known after apply)
      [32m+[0m[0m vpc_config                = (known after apply)
      [32m+[0m[0m zonal_shift_config        = (known after apply)
    }

[1m  # data.aws_iam_policy_document.jobintel_assume[0m will be read during apply
  # (config refers to values not yet known)
[0m [36m<=[0m[0m data "aws_iam_policy_document" "jobintel_assume" {
      [32m+[0m[0m id            = (known after apply)
      [32m+[0m[0m json          = (known after apply)
      [32m+[0m[0m minified_json = (known after apply)

      [32m+[0m[0m statement {
          [32m+[0m[0m actions = [
              [32m+[0m[0m "sts:AssumeRoleWithWebIdentity",
            ]
          [32m+[0m[0m effect  = "Allow"

          [32m+[0m[0m condition {
              [32m+[0m[0m test     = "StringEquals"
              [32m+[0m[0m values   = [
                  [32m+[0m[0m "sts.amazonaws.com",
                ]
              [32m+[0m[0m variable = (known after apply)
            }
          [32m+[0m[0m condition {
              [32m+[0m[0m test     = "StringEquals"
              [32m+[0m[0m values   = [
                  [32m+[0m[0m "system:serviceaccount:jobintel:jobintel",
                ]
              [32m+[0m[0m variable = (known after apply)
            }

          [32m+[0m[0m principals {
              [32m+[0m[0m identifiers = [
                  [32m+[0m[0m (known after apply),
                ]
              [32m+[0m[0m type        = "Federated"
            }
        }
    }

[1m  # data.tls_certificate.oidc[0m will be read during apply
  # (config refers to values not yet known)
[0m [36m<=[0m[0m data "tls_certificate" "oidc" {
      [32m+[0m[0m certificates = (known after apply)
      [32m+[0m[0m id           = (known after apply)
      [32m+[0m[0m url          = (known after apply)
    }

[1m  # aws_eks_cluster.this[0m will be updated in-place
[0m  [33m~[0m[0m resource "aws_eks_cluster" "this" {
        id                            = "jobintel-eks"
        name                          = "jobintel-eks"
        tags                          = {}
      [33m~[0m[0m version                       = "1.33" [33m->[0m[0m "1.29"
        [90m# (11 unchanged attributes hidden)[0m[0m

        [90m# (4 unchanged blocks hidden)[0m[0m
    }

[1m  # aws_eks_node_group.default[0m will be created
[0m  [32m+[0m[0m resource "aws_eks_node_group" "default" {
      [32m+[0m[0m ami_type               = (known after apply)
      [32m+[0m[0m arn                    = (known after apply)
      [32m+[0m[0m capacity_type          = (known after apply)
      [32m+[0m[0m cluster_name           = "jobintel-eks"
      [32m+[0m[0m disk_size              = (known after apply)
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m instance_types         = [
          [32m+[0m[0m "t3.medium",
        ]
      [32m+[0m[0m node_group_name        = "jobintel-eks-default"
      [32m+[0m[0m node_group_name_prefix = (known after apply)
      [32m+[0m[0m node_role_arn          = "arn:aws:iam::048622080012:role/jobintel-eks-node-role"
      [32m+[0m[0m release_version        = (known after apply)
      [32m+[0m[0m resources              = (known after apply)
      [32m+[0m[0m status                 = (known after apply)
      [32m+[0m[0m subnet_ids             = [
          [32m+[0m[0m "subnet-11001d5c",
          [32m+[0m[0m "subnet-1e470941",
          [32m+[0m[0m "subnet-a4b7ff85",
          [32m+[0m[0m "subnet-f23c7194",
          [32m+[0m[0m "subnet-f97176f7",
        ]
      [32m+[0m[0m tags_all               = (known after apply)
      [32m+[0m[0m version                = (known after apply)

      [32m+[0m[0m scaling_config {
          [32m+[0m[0m desired_size = 1
          [32m+[0m[0m max_size     = 2
          [32m+[0m[0m min_size     = 1
        }
    }

[1m  # aws_iam_openid_connect_provider.this[0m must be [1m[31mreplaced[0m
[0m[31m-[0m/[32m+[0m[0m resource "aws_iam_openid_connect_provider" "this" {
      [33m~[0m[0m arn             = "arn:aws:iam::048622080012:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC" -> (known after apply)
      [33m~[0m[0m id              = "arn:aws:iam::048622080012:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC" -> (known after apply)
      [31m-[0m[0m tags            = {} [90m-> null[0m[0m
      [33m~[0m[0m tags_all        = {} -> (known after apply)
      [33m~[0m[0m thumbprint_list = [
          [31m-[0m[0m "06b25927c42a721631c1efd9431e648fa62e1e39",
        ] -> (known after apply)
      [33m~[0m[0m url             = "oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC" [31m# forces replacement[0m[0m -> (known after apply) [31m# forces replacement[0m[0m
        [90m# (1 unchanged attribute hidden)[0m[0m
    }

[1m  # aws_iam_policy.jobintel_s3[0m will be updated in-place
[0m  [33m~[0m[0m resource "aws_iam_policy" "jobintel_s3" {
        id               = "arn:aws:iam::048622080012:policy/jobintel-eks-jobintel-s3"
        name             = "jobintel-eks-jobintel-s3"
      [33m~[0m[0m policy           = jsonencode(
          [33m~[0m[0m {
              [33m~[0m[0m Statement = [
                  [33m~[0m[0m {
                      [33m~[0m[0m Resource  = "arn:aws:s3:::jobintel-prod-artifacts-855305" [33m->[0m[0m "arn:aws:s3:::my-real-jobintel-bucket"
                        [90m# (3 unchanged attributes hidden)[0m[0m
                    },
                  [33m~[0m[0m {
                      [33m~[0m[0m Resource = "arn:aws:s3:::jobintel-prod-artifacts-855305/jobintel/*" [33m->[0m[0m "arn:aws:s3:::my-real-jobintel-bucket/jobintel/*"
                        [90m# (2 unchanged attributes hidden)[0m[0m
                    },
                ]
                [90m# (1 unchanged attribute hidden)[0m[0m
            }
        )
        tags             = {}
        [90m# (5 unchanged attributes hidden)[0m[0m
    }

[1m  # aws_iam_role.jobintel_irsa[0m will be updated in-place
[0m  [33m~[0m[0m resource "aws_iam_role" "jobintel_irsa" {
      [33m~[0m[0m assume_role_policy    = jsonencode(
            {
              [31m-[0m[0m Statement = [
                  [31m-[0m[0m {
                      [31m-[0m[0m Action    = "sts:AssumeRoleWithWebIdentity"
                      [31m-[0m[0m Condition = {
                          [31m-[0m[0m StringEquals = {
                              [31m-[0m[0m "oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC:aud" = "sts.amazonaws.com"
                              [31m-[0m[0m "oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC:sub" = "system:serviceaccount:jobintel:jobintel"
                            }
                        }
                      [31m-[0m[0m Effect    = "Allow"
                      [31m-[0m[0m Principal = {
                          [31m-[0m[0m Federated = "arn:aws:iam::048622080012:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC"
                        }
                    },
                ]
              [31m-[0m[0m Version   = "2012-10-17"
            }
        ) -> (known after apply)
        id                    = "jobintel-eks-jobintel-irsa"
        name                  = "jobintel-eks-jobintel-irsa"
        tags                  = {}
        [90m# (8 unchanged attributes hidden)[0m[0m

        [90m# (1 unchanged block hidden)[0m[0m
    }

[1mPlan:[0m 2 to add, 3 to change, 1 to destroy.
[0m
Changes to Outputs:
  [32m+[0m[0m cluster_security_group_id = "sg-051448804d30303ed"
  [32m+[0m[0m node_role_arn             = "arn:aws:iam::048622080012:role/jobintel-eks-node-role"
  [33m~[0m[0m oidc_provider_arn         = "arn:aws:iam::048622080012:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC" -> (known after apply)
  [32m+[0m[0m subnet_ids                = [
      [32m+[0m[0m "subnet-11001d5c",
      [32m+[0m[0m "subnet-1e470941",
      [32m+[0m[0m "subnet-a4b7ff85",
      [32m+[0m[0m "subnet-f23c7194",
      [32m+[0m[0m "subnet-f97176f7",
    ]
[0m[1maws_iam_openid_connect_provider.this: Destroying... [id=arn:aws:iam::048622080012:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/0F3CE6FA7CA1DB99B557A6107E3D87BC][0m[0m
[0m[1maws_iam_policy.jobintel_s3: Modifying... [id=arn:aws:iam::048622080012:policy/jobintel-eks-jobintel-s3][0m[0m
[0m[1maws_iam_openid_connect_provider.this: Destruction complete after 0s[0m
[0m[1maws_eks_cluster.this: Modifying... [id=jobintel-eks][0m[0m
[0m[1maws_iam_policy.jobintel_s3: Modifications complete after 0s [id=arn:aws:iam::048622080012:policy/jobintel-eks-jobintel-s3][0m
[31mâ•·[0m[0m
[31mâ”‚[0m [0m[1m[31mError: [0m[0m[1mupdating EKS Cluster (jobintel-eks) version: operation error EKS: UpdateClusterVersion, https response error StatusCode: 400, RequestID: 23fe4784-8162-41e9-937e-74d882f28778, InvalidParameterException: Unsupported Kubernetes minor version update from 1.33 to 1.29[0m
[31mâ”‚[0m [0m
[31mâ”‚[0m [0m[0m  with aws_eks_cluster.this,
[31mâ”‚[0m [0m  on main.tf line 45, in resource "aws_eks_cluster" "this":
[31mâ”‚[0m [0m  45: resource "aws_eks_cluster" "this" [4m{[0m[0m
[31mâ”‚[0m [0m
[31mâ•µ[0m[0m
